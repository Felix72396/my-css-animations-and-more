<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Card Deck</title>

    <style>
        .wrapper{
            width: 50px;
            height: 50px;
            perspective: 100px;
            margin: 100px auto;
            cursor: pointer;
        }

        div:not([class="wrapper"], [class="container"]){
            background-color: blue;
            color: white;
            display: grid; 
            place-content: center;
            box-shadow: 0 0 2px black;
            position: absolute;
            top: 0;
            left: 0;
            width: 50px;
            height: 50px;
            transform-style: preserve-3d;
            transform: rotateY(-170deg) rotateX(-8deg);
            transition: 1s all ease-in;
            
            transition: all ease .3s;
        }

        .wrapper:hover div:nth-child(4){
            top: -20px;
            left: 20px;
            opacity: 1;
        }

        .wrapper:hover div:nth-child(3){
            top: -15px;
            left: 15px;
            opacity: .8;
        }

        .wrapper:hover div:nth-child(2){
            top: -10px;
            left: 10px;
            opacity: .6;
        }

        .wrapper:hover div:nth-child(1){
            top: -5px;
            left: 5px;
            opacity: .4;
        }

        div.container{
            width: calc(30% - 2rem);
            height: auto;
            padding: 1rem;
            background-color: black;
            display: flex;
            justify-content: center;
            align-items: center;
            position: absolute;
            top: 0 !important; 
            left: 0 !important;
        }

        .remove-3d-aspect {
            /* top: 0 !important; 
            left: 0 !important; */
            position: relative !important;
            transform: none !important;
            transform-style: none !important;
            margin: 0 .2rem;
            opacity: 1;
        }

        .blue-color{
            background-color: blue;
            transform: scale(2);
        }
         
    </style>
</head>
<body>
    <div id="wrapper" class="wrapper">
        <div>
            ♥
        </div>
    
        <div>
            ♥
        </div>
    
        <div>
            ♥
        </div>
    
        <div>
            ♥
        </div>
    </div>

    <div class="container">

    </div>

    <script>
        const array_cards = document.querySelectorAll(".wrapper div");
        const wrapper = document.getElementById("wrapper");
        const container = document.querySelector(".container");

        array_cards.forEach(function(card, index){
            card.addEventListener("click", function(){
                if(index === 0 && card.parentNode === wrapper){
                    card.parentNode.parentNode.removeChild(card.parentNode);             
                }
               
                container.appendChild(card);
                card.classList.add("remove-3d-aspect");
            });

            card.addEventListener("mouseover", function(){
                card.classList.add("blue-color");
            });
        });
    </script>
</body>
</html>